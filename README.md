# Gurobi Optimization Examples â€“ Boilerâ€“Turbogenerator System

## ğŸ“Œ Overview

This repository demonstrates **process optimization using the Gurobi solver**, with a focus on **energy systems and industrial operations**.  
A flagship example included here is the **Boilerâ€“Turbo-Generator System Optimization**, inspired by *Example 11.4* from:

**Edgar, T. F., Himmelblau, D. M., and Lasdon, L. S.**  
*Optimization of Chemical Processes*, 2nd Edition, McGraw-Hill.

The example illustrates how **linear programming (LP)** and **engineering constraints** can be used to optimally allocate steam and power generation resources in an industrial utility system.

---

## Problem summary

A steam and power utility system includes:
- A boiler generating **high-pressure steam (HPS, 635 psig)**.
- Two turbo-generators:
  - **Turbine 1** (double extraction at 195 psig and 62 psig, with condensate).
  - **Turbine 2** (single extraction at 195 psig and exhaust at 62 psig, no condensate).
- Bypass valves (pressure-reducing valves) to route excess steam directly to headers.

The LP chooses steam flow rates and power generation/purchase to meet steam and power demands at minimum hourly cost. îˆ€fileciteîˆ‚turn6file1îˆ‚L14-L21îˆ

---

## Decision variables (as used in the book)

Steam / flow variables (lbm/h):
- `HPS` : high-pressure steam produced by the boiler
- `Z1`, `Z2` : inlet steam flow to Turbine 1 and Turbine 2
- `HE1`, `HE2` : extraction flow to 195 psig header from Turbine 1 and Turbine 2
- `LE1`, `LE2` : flow to 62 psig header from Turbine 1 and Turbine 2
- `C` : condensate from Turbine 1
- `BF1` : bypass flow from 635 psig to 195 psig header
- `BF2` : bypass flow from 195 psig to 62 psig header
- `MPS` : steam flow through 195 psig header
- `LPS` : steam flow through 62 psig header

Power variables (kW):
- `P1`, `P2` : power generated by Turbine 1 and Turbine 2
- `PP` : purchased power
- `EP` : â€œexcess powerâ€ (difference from base-purchased power)

(Variable meanings and diagram key are listed with Figure E11.4.) îˆ€fileciteîˆ‚turn5file3îˆ‚L33-L45îˆ

---

## Objective function

Minimize hourly operating cost:

\[
\min\; f = 0.00261\,HPS + 0.0239\,PP + 0.00983\,EP
\]

îˆ€fileciteîˆ‚turn6file0îˆ‚L8-L12îˆ

---

## Constraints (as listed in Example 11.4)

### 1) Turbine 1 capacity / operating limits

\[
\begin{aligned}
& P_1 \le 6250 \\
& P_1 \ge 2500 \\
& HE_1 \le 192{,}000 \\
& C \le 62{,}000 \\
& Z_1 - HE_1 \le 132{,}000
\end{aligned}
\]

îˆ€fileciteîˆ‚turn6file0îˆ‚L13-L19îˆ

### 2) Turbine 2 capacity / operating limits (from Table 11.4A)

The book provides these limits for Turbine 2:
- Max generative capacity: 9,000 kW
- Min load: 3,000 kW
- Max inlet flow: 244,000 lbm/h
- Max 62 psi exhaust: 142,000 lbm/h îˆ€fileciteîˆ‚turn5file0îˆ‚L13-L17îˆ

In an LP formulation, these are typically enforced as:

\[
\begin{aligned}
& P_2 \le 9000 \\
& P_2 \ge 3000 \\
& Z_2 \le 244{,}000 \\
& LE_2 \le 142{,}000
\end{aligned}
\]

îˆ€fileciteîˆ‚turn5file0îˆ‚L13-L17îˆ

### 3) Material balances

\[
\begin{aligned}
& HPS - Z_1 - Z_2 - BF_1 = 0 \\
& Z_1 + Z_2 + BF_1 - C - MPS - LPS = 0 \\
& Z_1 - HE_1 - LE_1 - C = 0 \\
& Z_2 - HE_2 - LE_2 = 0 \\
& HE_1 + HE_2 + BF_1 - BF_2 - MPS = 0 \\
& LE_1 + LE_2 + BF_2 - LPS = 0
\end{aligned}
\]

îˆ€fileciteîˆ‚turn6file0îˆ‚L21-L26îˆ

### 4) Demands

\[
\begin{aligned}
& MPS \ge 271{,}536 \\
& LPS \ge 100{,}623 \\
& P_1 + P_2 + PP \ge 24{,}550
\end{aligned}
\]

îˆ€fileciteîˆ‚turn6file0îˆ‚L28-L32îˆ

### 5) Base-purchased power relationship

The text notes that **EP + PP must sum to the base purchased power (12,000 kW)**. îˆ€fileciteîˆ‚turn6file4îˆ‚L8-L11îˆ

A standard way to represent this is:

\[
PP + EP = 12{,}000
\]

îˆ€fileciteîˆ‚turn6file4îˆ‚L8-L11îˆ

---

## Notebook contents (suggested outline)

1. **Problem data** (constants, bounds, demand values)
2. **Build LP model** in Gurobi (`gurobipy`)
3. **Solve** and check status
4. **Report solution** (decision variables + objective value)
5. (Optional) **Export** results to CSV

---

## How to run

### Option A â€” pip

```bash
pip install gurobipy jupyter
jupyter notebook
```

Open `notebook/boiler_turbogenerator_lp.ipynb` and run all cells.

### Option B â€” conda

```bash
conda create -n steam-lp python=3.11 -y
conda activate steam-lp
pip install gurobipy jupyter
jupyter notebook
```

---

## Notes on licensing

Gurobi requires a valid license to solve models beyond the limited capabilities of a free install. See the official Gurobi documentation for license options (academic, commercial, etc.).

---

## Reference

Edgar, T. F., Himmelblau, D. M., & Lasdon, L. S. *Optimization of Chemical Processes (2nd ed.)*, Example 11.4 (Boiler/Turbo-Generator System Optimization). îˆ€fileciteîˆ‚turn5file3îˆ‚L14-L18îˆ

